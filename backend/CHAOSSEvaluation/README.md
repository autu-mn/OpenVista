# CHAOSS ç¤¾åŒºå¥åº·è¯„ä¼°æ¨¡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ¨¡å—åŸºäº **CHAOSSï¼ˆCommunity Health Analytics Open Source Softwareï¼‰** æ ‡å‡†ï¼Œå¯¹å¼€æºé¡¹ç›®è¿›è¡Œç¤¾åŒºå¥åº·è¯„ä¼°ã€‚é‡‡ç”¨**æŒ‰æœˆè®¡ç®—è¯„åˆ†ï¼Œç„¶åå»é™¤å¼‚å¸¸å€¼åå–å¹³å‡å€¼**çš„ç­–ç•¥ï¼Œç¡®ä¿è¯„åˆ†æ›´åŠ ç¨³å®šå’Œå¯é ã€‚

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

- **ä¿åºæ€§**ï¼šè¯„åˆ†ç®—æ³•ä¿æŒé¡¹ç›®ä¹‹é—´çš„ç›¸å¯¹æ’åºä¸å˜
- **åˆ†å¸ƒåˆç†æ€§**ï¼šé€šè¿‡ç™¾åˆ†ä½åˆ†å¸ƒæ˜ å°„ï¼Œä½¿åˆ†æ•°åˆ†å¸ƒç¬¦åˆçœŸå®å¼€æºç”Ÿæ€
- **æ•°æ®è´¨é‡æ„ŸçŸ¥**ï¼šè‡ªåŠ¨æ£€æµ‹å’Œå¤„ç†æ•°æ®è´¨é‡é—®é¢˜
- **å¼‚å¸¸å€¼å®¹å¿**ï¼šé™æƒè€Œéåˆ é™¤ï¼Œä¿ç•™æ›´å¤šä¿¡æ¯

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. å¤šç»´åº¦è¯„ä¼°ä½“ç³»

åŸºäº CHAOSS æ ‡å‡†ï¼Œå°† 16 ä¸ª OpenDigger æŒ‡æ ‡æ˜ å°„åˆ° 6 ä¸ªè¯„ä¼°ç»´åº¦ï¼š

| ç»´åº¦ | ä¸­æ–‡åç§° | åŒ…å«æŒ‡æ ‡ | è¯´æ˜ |
|------|---------|---------|------|
| **Activity** | æ´»åŠ¨åº¦ | OpenRankã€æ´»è·ƒåº¦ã€å˜æ›´è¯·æ±‚ã€PRæ¥å—æ•°ã€æ–°å¢Issue | é¡¹ç›®æ•´ä½“æ´»è·ƒç¨‹åº¦ |
| **Contributors** | è´¡çŒ®è€… | å‚ä¸è€…æ•°ã€è´¡çŒ®è€…ã€æ–°å¢è´¡çŒ®è€… | è´¡çŒ®è€…æ•°é‡ã€å¢é•¿å’Œç•™å­˜ |
| **Responsiveness** | å“åº”æ€§ | å…³é—­Issueã€Issueè¯„è®º | Issueå’ŒPRçš„å“åº”é€Ÿåº¦ |
| **Quality** | ä»£ç è´¨é‡ | PRå®¡æŸ¥ã€ä»£ç æ–°å¢/åˆ é™¤/å˜æ›´è¡Œæ•° | ä»£ç å®¡æŸ¥å’Œå˜æ›´è§„æ¨¡ |
| **Risk** | é£é™© | æ€»çº¿å› å­ï¼ˆBus Factorï¼‰ | é¡¹ç›®é£é™©é›†ä¸­åº¦ |
| **Community Interest** | ç¤¾åŒºå…´è¶£ | Staræ•°ã€Forkæ•° | ç¤¾åŒºå…³æ³¨åº¦ |

### 2. æŒ‰æœˆè®¡ç®—è¯„åˆ†

- å¯¹æ¯ä¸ªæœˆä»½å•ç‹¬è®¡ç®— CHAOSS è¯„åˆ†
- ä½¿ç”¨æœ€è¿‘ 12 ä¸ªæœˆçš„æ•°æ®ï¼ˆå¦‚æœä¸è¶³ 12 ä¸ªæœˆï¼Œä½¿ç”¨æ‰€æœ‰å¯ç”¨æ•°æ®ï¼‰
- è‡ªåŠ¨è¿‡æ»¤ä»“åº“åˆ›å»ºä¹‹å‰çš„æœˆä»½ï¼Œç¡®ä¿æ—¶é—´èŒƒå›´åˆç†
- æ¯ä¸ªæœˆçš„è¯„åˆ†åŒ…æ‹¬ï¼š
  - æ€»ä½“å¾—åˆ†
  - å„ç»´åº¦å¾—åˆ†ï¼ˆå«æ•°æ®è´¨é‡å¾—åˆ†ï¼‰
  - æŒ‡æ ‡æ•°é‡ç»Ÿè®¡

### 3. æ”¹è¿›çš„å¼‚å¸¸å€¼æ£€æµ‹ä¸å¤„ç†

#### IQRï¼ˆå››åˆ†ä½è·ï¼‰æ–¹æ³•
- ä½¿ç”¨**çº¿æ€§æ’å€¼**è®¡ç®—åˆ†ä½æ•°ï¼Œæé«˜ç²¾åº¦
- **æŒ‰ç»´åº¦ä½¿ç”¨ä¸åŒçš„ IQR å€æ•°**ï¼š
  - Activity ç»´åº¦ï¼š`IQR Ã— 2.0`ï¼ˆæ³¢åŠ¨è¾ƒå¤§ï¼‰
  - å…¶ä»–ç»´åº¦ï¼š`IQR Ã— 1.5`ï¼ˆé»˜è®¤ï¼‰
- **å¼‚å¸¸å€¼é™æƒè€Œéåˆ é™¤**ï¼š
  - æ­£å¸¸å€¼æƒé‡ï¼š`1.0`
  - å¼‚å¸¸å€¼æƒé‡ï¼š`0.3`
  - ä¿ç•™æ›´å¤šä¿¡æ¯ï¼Œé¿å…æ•°æ®ä¸¢å¤±

### 4. æ•°æ®è´¨é‡æ£€æµ‹ä¸åŠ æƒ

#### è´¨é‡è¯„ä¼°ç»´åº¦
- **å¼‚å¸¸å€¼æ¯”ä¾‹**ï¼šæœ€å¤šæ‰£ 40%
- **é›¶å€¼æ¯”ä¾‹**ï¼šè¶…è¿‡ 30% å¼€å§‹æ‰£åˆ†ï¼Œæœ€å¤šæ‰£ 30%
- **æ•°æ®æœ‰æ•ˆæ€§**ï¼šæ£€æµ‹ Noneã€NaNã€Infã€è´Ÿæ•°ç­‰

#### è´¨é‡æŠ˜æŸæœºåˆ¶
```python
score = normalized_score * (0.7 + 0.3 * quality)
```
- æœ€å¤šæ‰£ 30%ï¼Œé¿å…ç³»ç»Ÿæ€§å‹åˆ†
- è´¨é‡å¾—åˆ†ä½äº 30% çš„æŒ‡æ ‡ä¼šè¢«è·³è¿‡

### 5. åŠ¨æ€å½’ä¸€åŒ–ç­–ç•¥

æ”¯æŒå¤šç§å½’ä¸€åŒ–ç­–ç•¥ï¼ŒæŒ‰ä¼˜å…ˆçº§è‡ªåŠ¨é€‰æ‹©ï¼š

#### ç­–ç•¥ 1ï¼šç™¾åˆ†ä½å½’ä¸€åŒ–ï¼ˆæ¨èï¼‰
```python
score = min(100, (value / p75) * 70)
```
- ä½¿ç”¨ 75% åˆ†ä½æ•°ä½œä¸ºå‚è€ƒ
- å€¼è¾¾åˆ° p75 æ—¶å¾— 70 åˆ†
- é€‚åˆå¤§å¤šæ•°æŒ‡æ ‡

#### ç­–ç•¥ 2ï¼šåŸºå‡†å€¼å½’ä¸€åŒ–ï¼ˆ60åˆ†é”šç‚¹ï¼‰
```python
ratio = value / baseline
if ratio >= 2.0: score = min(100, 85 + (ratio - 2.0) * 5)
elif ratio >= 1.0: score = 60 + 25 * (ratio - 1.0)
else: score = 60 * ratio
```
- Baseline ä½œä¸º"å¥åº·ä½†ä¸ä¼˜ç§€"æ°´å¹³ï¼Œå¯¹åº” 60 åˆ†
- é€‚åˆæœ‰æ˜ç¡®æ ‡å‡†çš„æŒ‡æ ‡ï¼ˆå¦‚ OpenRankã€Bus Factorï¼‰

#### ç­–ç•¥ 3ï¼šå¯¹æ•°å°ºåº¦å½’ä¸€åŒ–
```python
score = min(100, log10(1 + value) * 50)
```
- é€‚åˆè·¨åº¦å¾ˆå¤§çš„æŒ‡æ ‡ï¼ˆå¦‚ Star æ•°ã€ä»£ç è¡Œæ•°ï¼‰

#### ç­–ç•¥ 4ï¼šç®€å•çº¿æ€§å½’ä¸€åŒ–ï¼ˆå›é€€ï¼‰
```python
score = min(100, (value / max_value) * 100)
```
- ä½œä¸ºæœ€åçš„å›é€€æ–¹æ¡ˆ

### 6. å¢é•¿å‹æŒ‡æ ‡ä¿æŠ¤

å¯¹äºå¢é•¿å‹æŒ‡æ ‡ï¼ˆGROWTHã€INDEX ç±»å‹ï¼‰ï¼š
```python
final_value = max(å½“å‰å€¼, æœ€è¿‘3æœˆå‡å€¼)
```
- é¿å…å‹åˆ¶æ­£åœ¨æˆé•¿çš„é¡¹ç›®
- é€‚ç”¨äºï¼šOpenRankã€æ´»è·ƒåº¦ã€æ–°å¢è´¡çŒ®è€…ã€Star æ•°ç­‰

### 7. å¥åº·è½¯ä¸‹é™

```python
dimension_score = max(30.0, dimension_score)
```
- ç»´åº¦å¾—åˆ†è®¾ç½® 30 åˆ†è½¯ä¸‹é™
- é¿å…æŒç»­ç»´æŠ¤çš„é¡¹ç›®è¢«è¯¯è¯„ä¸ºæä½åˆ†
- å…è®¸çœŸæ­£è¡¨ç°å·®çš„ç»´åº¦å¾—åˆ°ä½åˆ†

### 8. ç™¾åˆ†ä½åˆ†å¸ƒæ˜ å°„ï¼ˆæ ¸å¿ƒç‰¹æ€§ï¼‰

**æ ¸å¿ƒæ€æƒ³**ï¼šè¯„åˆ†ä¸æ˜¯çœ‹"ä½ æœ‰å¤šå¥½"ï¼Œè€Œæ˜¯çœ‹"ä½ æ‰“è´¥äº†å¤šå°‘é¡¹ç›®"

#### å·¥ä½œåŸç†
1. **è¿è¡Œæ—¶ç¼“å­˜**ï¼šä½¿ç”¨æœ€è¿‘ 500 ä¸ªé¡¹ç›®çš„åŸå§‹åˆ†æ•°ä½œä¸ºå‚è€ƒåˆ†å¸ƒ
2. **å»é‡æœºåˆ¶**ï¼šä½¿ç”¨å­—å…¸è®°å½•æ¯ä¸ªé¡¹ç›®çš„æœ€æ–°åˆ†æ•°ï¼Œé¿å…é‡å¤æ·»åŠ å¯¼è‡´åˆ†å¸ƒåç§»
3. **åˆ†å¸ƒå¯¹é½**ï¼šå°†åŸå§‹åˆ†æ•°æ˜ å°„åˆ° [30, 100] èŒƒå›´
4. **ä¿åºæ€§**ï¼šä¸æ”¹å˜é¡¹ç›®ä¹‹é—´çš„ç›¸å¯¹æ’åº

#### æ•ˆæœ
- å‰ 15-20% çš„é¡¹ç›®å¾—åˆ† > 80 åˆ†
- ä¸­ä½é¡¹ç›®å¾—åˆ†åœ¨ 60-65 åˆ†
- æœ€å·®é¡¹ç›®å¾—åˆ† < 40 åˆ†
- é¡¹ç›®æ’åºå®Œå…¨ä¸å˜

#### åŒé‡è¾“å‡º
- **æ˜ å°„ååˆ†æ•°**ï¼ˆ`overall_score`ï¼‰ï¼šç”¨äºç”¨æˆ·å±•ç¤º
- **åŸå§‹åˆ†æ•°**ï¼ˆ`_raw_overall_score`ï¼‰ï¼šç”¨äºç®—æ³•åˆ¤æ–­å’Œç ”ç©¶
- **ç™¾åˆ†ä½æ’å**ï¼ˆ`_percentile`ï¼‰ï¼šæ’åå‰ X%

## ğŸ”„ è®¡ç®—æµç¨‹

```
1. è·å–æ—¶åºæ•°æ®ï¼ˆä»æœ¬åœ° timeseries_for_model ç›®å½•ï¼‰
   â†“
2. è·å–ä»“åº“åˆ›å»ºæ—¶é—´ï¼Œè¿‡æ»¤ä¸åˆç†çš„æ—¶é—´èŒƒå›´
   â†“
3. æå–æ‰€æœ‰å¯ç”¨æœˆä»½ï¼ˆä»…åŒ…å«åˆ›å»ºæ—¶é—´ä¹‹åçš„æœˆä»½ï¼‰
   â†“
4. é€‰æ‹©æœ€è¿‘12ä¸ªæœˆï¼ˆæˆ–æ‰€æœ‰å¯ç”¨æœˆä»½ï¼‰
   â†“
5. å¯¹æ¯ä¸ªæœˆå•ç‹¬è®¡ç®—è¯„åˆ†ï¼š
   â”œâ”€ æå–è¯¥æœˆçš„æ‰€æœ‰æŒ‡æ ‡å€¼
   â”œâ”€ å¯¹å¢é•¿å‹æŒ‡æ ‡ä½¿ç”¨ max(å½“å‰å€¼, æœ€è¿‘3æœˆå‡å€¼)
   â”œâ”€ å¯¹æ¯ä¸ªæŒ‡æ ‡å½’ä¸€åŒ–ï¼ˆä½¿ç”¨é…ç½®çš„ç­–ç•¥ï¼‰
   â”œâ”€ åº”ç”¨è´¨é‡æŠ˜æŸï¼ˆæœ€å¤šæ‰£30%ï¼‰
   â”œâ”€ æŒ‰ç»´åº¦èšåˆï¼ˆåŠ æƒå¹³å‡ï¼‰
   â”œâ”€ åº”ç”¨å¥åº·è½¯ä¸‹é™ï¼ˆæœ€ä½30åˆ†ï¼‰
   â””â”€ è®¡ç®—æ€»ä½“å¾—åˆ†
   â†“
6. æ”¶é›†æ‰€æœ‰æœˆä»½çš„è¯„åˆ†
   â†“
7. ä½¿ç”¨æ”¹è¿›çš„IQRæ–¹æ³•æ£€æµ‹å¼‚å¸¸å€¼ï¼ˆæŒ‰ç»´åº¦ä½¿ç”¨ä¸åŒå€æ•°ï¼‰
   â†“
8. å¼‚å¸¸å€¼é™æƒåè®¡ç®—æœ€ç»ˆè¯„åˆ†ï¼ˆåŠ æƒå¹³å‡ï¼‰
   â†“
9. åº”ç”¨ç™¾åˆ†ä½åˆ†å¸ƒæ˜ å°„
   â†“
10. ç”Ÿæˆè¯„ä»·æŠ¥å‘Šï¼ˆåŒ…å«æ”¹è¿›å»ºè®®ï¼‰
```

## ğŸ“Š API æ¥å£

### GET `/api/chaoss/<repo_key>`

è·å–ä»“åº“çš„ CHAOSS è¯„ä»·ç»“æœã€‚

**å‚æ•°ï¼š**
- `repo_key`: ä»“åº“æ ‡è¯†ï¼ˆæ”¯æŒ `owner/repo` æˆ– `owner_repo` æ ¼å¼ï¼‰

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "repo_key": "odoo/odoo",
  "time_range": {
    "start": "2014-05",
    "end": "2025-12",
    "total_months": 141,
    "evaluated_months": 12,
    "valid_months": 12,
    "repo_created_month": "2014-05"
  },
  "monthly_scores": [...],
  "final_scores": {
    "overall_score": 73.8,
    "overall_level": "è‰¯å¥½",
    "_raw_overall_score": 65.2,
    "_percentile": 68.5,
    "dimensions": {...}
  },
  "report": {
    "summary": "ç»¼åˆè¯„åˆ†: 73.8åˆ† (è‰¯å¥½) Â· æ’åå‰68.5%",
    "recommendations": [...]
  }
}
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
CHAOSSEvaluation/
â”œâ”€â”€ __init__.py              # æ¨¡å—åˆå§‹åŒ–ï¼Œå¯¼å‡ºå…¬å…±æ¥å£
â”œâ”€â”€ chaoss_mapper.py         # CHAOSS ç»´åº¦æ˜ å°„ï¼ˆ6ä¸ªç»´åº¦ï¼Œ16ä¸ªæŒ‡æ ‡ï¼‰
â”œâ”€â”€ chaoss_calculator.py     # è¯„åˆ†è®¡ç®—å™¨ï¼ˆæ ¸å¿ƒç®—æ³•ï¼‰
â”œâ”€â”€ chaoss_metric_config.py  # æŒ‡æ ‡é…ç½®ï¼ˆç±»å‹ã€æƒé‡ã€å½’ä¸€åŒ–ç­–ç•¥ï¼‰
â”œâ”€â”€ quality_utils.py         # æ•°æ®è´¨é‡è¯„ä¼°å’Œå½’ä¸€åŒ–å·¥å…·
â”œâ”€â”€ distribution_aligner.py  # ç™¾åˆ†ä½åˆ†å¸ƒå¯¹é½å™¨
â””â”€â”€ README.md               # æœ¬æ–‡æ¡£
```

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

```python
from CHAOSSEvaluation import CHAOSSEvaluator
from data_service import DataService

# åˆå§‹åŒ–
data_service = DataService()
evaluator = CHAOSSEvaluator(data_service)

# è¯„ä¼°ä»“åº“
result = evaluator.evaluate_repo('odoo/odoo')

# æŸ¥çœ‹ç»“æœ
print(f"ç»¼åˆè¯„åˆ†: {result['final_scores']['overall_score']}")
print(f"ç­‰çº§: {result['final_scores']['overall_level']}")
print(f"ç™¾åˆ†ä½æ’å: {result['final_scores']['_percentile']}%")
```

## ğŸ“Š è¯„åˆ†ç­‰çº§

| ç­‰çº§ | åˆ†æ•°èŒƒå›´ | è¯´æ˜ |
|------|---------|------|
| **ä¼˜ç§€** | â‰¥ 80åˆ† | é¡¶çº§å¼€æºé¡¹ç›® |
| **è‰¯å¥½** | â‰¥ 60åˆ† | å¥åº·åº¦è‰¯å¥½ |
| **ä¸€èˆ¬** | â‰¥ 40åˆ† | å¤„äºä¸­ç­‰æ°´å¹³ |
| **è¾ƒå·®** | â‰¥ 20åˆ† | å¥åº·åº¦åä½ |
| **å¾ˆå·®** | < 20åˆ† | å¥åº·åº¦è¾ƒä½ |

---

**ä½œè€…**ï¼šOpenVista Team  
**ç‰ˆæœ¬**ï¼š2.0  
**æœ€åæ›´æ–°**ï¼š2026-01-10

